import{r as e,h as t,H as i,g as l}from"./p-44118c4f.js";const r=class{constructor(t){e(this,t),this.filter=!1,this.multipleFilter=!1,this.placeholder="",this.$=window.$}async checkTree(e){for(;"MM-TREE"===e.tagName;)this.checkParentTree(e),e=e.parentElement}async openTree(){this.treeElement.querySelectorAll(".iconTree").forEach((e=>this.openClasses(e)))}async closeTree(){this.treeElement.querySelectorAll(".iconTree").forEach((e=>this.closeClasses(e)))}render(){return t(i,null,t("slot",{name:"filter"}),t("slot",null))}componentDidLoad(){this.addEventClickOnCheckbox(),this.renderIcon(),this.addIconOnLabel(),this.filter&&(this.addFilterInput(),this.multipleFilter&&this.toggleClasses(this.treeElement.querySelector("i"))),this.addEventClickOnIcon()}addFilterInput(){if(!this.treeElement.querySelector(":scope > mm-textfield")){const e=document.createElement("mm-textfield");e.classList.add("search");const t=document.createElement("input");t.className="filter-input",t.type="text",t.placeholder=this.placeholder,e.append(t),this.autoComplete&&(e.minLength=1,e.classList.add("autocomplete"),e.classList.add("search"),e.source=this.getAllVisibleItems(),e.addEventListener("itemSelected",(e=>{t.value=""+e.detail.item.value,t.dispatchEvent(new Event("change"))})),t.setAttribute("data-type","completion")),this.treeElement.insertBefore(e,this.treeElement.childNodes[0]),t.addEventListener("change",(()=>{this.filterElements(t.value.replace(/</g,"&lt;").replace(/>/g,"&gt;")),this.checkFirstItem(),e.source=this.getAllVisibleItems()})),t.addEventListener("keyup",(e=>{t.dispatchEvent(new Event("change"));const i=this.treeElement.querySelectorAll("mm-tree > i");0===e.target.value.length&&(i.forEach((e=>{this.closeClasses(e)})),this.treeElement.classList.add("show"))}))}}checkFirstItem(){const e=this.treeElement;e.querySelector("i").style.display="",e.querySelector("label").style.display="","none"===e.style.display&&(e.querySelector("i").style.display="none",e.querySelector("label").style.display="none",e.removeAttribute("style"))}filterElements(e){const t=this.treeElement.querySelectorAll("mm-tree, mm-tree-item");Array.from(t).forEach((t=>{let i=t.innerText;t.getAttribute("data-search")&&(i=t.getAttribute("data-search").trim()),this.findText(i,e)?this.showElement(t):this.$(t).hide(0)}))}findText(e,t){return e.toLowerCase().match(""+t.toLowerCase())}showElement(e){this.$(e).show(0),this.openClasses(this.$(e).find("i")[0]);let t=this.$(e);for(;void 0===this.$(t).attr("filter");)t=this.$(t).parent(),this.$(t).show(0),this.openClasses(this.$(t).find("i")[0])}addIconOnLabel(){if(!this.treeElement.querySelector(":scope > label .mm-tree-icon, :scope > mm-checkbox > label .mm-tree-icon")){const e=this.treeElement.querySelector("label"),t=document.createElement("I");t.classList.add("fas"),t.classList.add("fa-folder"),t.classList.add("mm-tree-icon"),null!=e&&e.insertAdjacentElement("afterbegin",t)}}renderIcon(){this.treeElement.insertAdjacentHTML("afterbegin","<i class='fa fa-plus-square iconTree' aria-hidden='true'></i>")}addEventClickOnIcon(){const e=this.treeElement.querySelector(".iconTree");e&&e.addEventListener("click",(e=>{this.onClickTree(e)}))}addEventClickOnCheckbox(){const e=this.treeElement.querySelector("mm-checkbox");e&&(this.treeElement.classList.add("selection"),e.addEventListener("click",this.onClickCheckBox.bind(this)))}onClickTree(e){this.toggleClasses(e.currentTarget),e.preventDefault(),e.stopPropagation()}toggleClasses(e){e.classList.toggle("fa-plus-square"),e.classList.toggle("fa-minus-square"),e.parentElement.classList.toggle("show")}openClasses(e){e.classList.contains("fa-plus-square")&&(e.classList.remove("fa-plus-square"),e.classList.add("fa-minus-square"),e.parentElement.classList.add("show"))}closeClasses(e){e.classList.add("fa-plus-square"),e.classList.remove("fa-minus-square"),e.parentElement.classList.remove("show")}getAllVisibleItems(){const e=Array.from(this.treeElement.querySelectorAll("mm-tree-item:not([style='display'])")).map((e=>e.getAttribute("data-search")));return[...new Set(e)]}onClickCheckBox(){const e=this.treeElement.querySelectorAll("mm-checkbox"),t=this.treeElement.querySelector("input"),i=t.checked&&!t.classList.contains("full");for(let t=1;t<e.length;t++)this.onCheckChildren(e[t],i);t.classList.contains("full")&&(t.classList.remove("full"),t.checked=!1),this.checkTree(this.treeElement.parentElement)}onCheckChildren(e,t){const i=e.querySelector("input"),l=e.querySelector("label");t?(i.checked=!0,l.classList.add("checked")):(i.checked=!1,l.classList.remove("checked"))}checkParentTree(e){const t=e.querySelectorAll("mm-tree-item").length,i=e.querySelectorAll("mm-tree-item input:checked").length,l=e.querySelector("input"),r=e.querySelector("label");t>i&&(l.checked=!1,r.classList.remove("checked"),l.classList.add("full"),r.classList.add("full")),t===i&&(l.checked=!0,r.classList.add("checked"),l.classList.remove("full"),r.classList.remove("full")),0===i&&(l.checked=!1,r.classList.remove("checked"),l.classList.remove("full"),r.classList.remove("full"))}get treeElement(){return l(this)}};r.style=':root{--grey_050:#fcfcfa;--grey_100:#f9f9f9;--grey_200:#f2f2f2;--grey_300:#e9ecf0;--grey_400:#dfe1e2;--grey_500:#ccc;--grey_600:#a0aab5;--grey_700:#89858e;--grey_750:#73757b;--grey_800:#61616a;--grey_900:#55494c;--grey_950:#2a2425;--brand_accent_100:#f2fafd;--brand_accent_200:#e3f2fd;--brand_accent_300:#c1e3fc;--brand_accent_500:#00a4e3;--brand_accent_750:#0068a3;--brand_accent_800:#004a93;--primary_500:#3269b3;--primary_900:#283c57;--full_white:#fff;--full_black:#000;--action_300:#e56aa8;--action_500:#c9337d;--action_800:#750e70;--action_900:#440d7f;--status_critical_100:#fcded4;--status_critical_500:#d62c42;--status_critical_800:#660837;--status_warning_100:#fff2d6;--status_warning_500:#ffae33;--status_warning_800:#66380f;--status_success_100:#e6f8e0;--status_success_500:#42804a;--status_success_800:#0c3d25;--status_info_100:#e5fafe;--status_info_500:#7cc3f4;--status_info_800:#004a93;--client_platinium:#625951;--client_gold_500:#e0af31;--client_gold_800:#66380f;--client_basic:#3269b3;--client_hogar:#ffffff;--enviroment_dev:#f118a7;--enviroment_acp:#68d568;--enviroment_prf:#7cc3f4;--enviroment_uat:#ffd400;--segmentoa_500:#7aebb7;--segmentoa_800:#006060;--segmentob_500:#9ad7ff;--segmentob_800:#3a539b;--segmentoc_500:#e38b63;--segmentoc_800:#600000;--segmentod_500:#d999f2;--segmentod_800:#561b8d;--cca_500:#f2bf2e;--cca_800:#ff6e33}mm-tree{clear:both;display:block;line-height:40px;list-style:none;margin:0;padding:0;position:relative}mm-tree label+mm-tree-item:not(:first-child):before,mm-tree mm-checkbox+mm-tree-item:not(:first-child):before{height:35px;margin-top:0}mm-tree:before{content:"";display:block;position:absolute;margin:0;padding:0}mm-tree:not(:first-child){border-left:1px solid var(--grey_950, #2a2425);display:none;margin-left:5px;padding-left:30px}mm-tree:not(:first-child):before{content:"";display:block;position:absolute;border-bottom:1px solid var(--grey_950, #2a2425);height:40px;left:0px;margin-top:-5px;width:30px}mm-tree:last-child,mm-tree>:last-child{border-left:none !important}mm-tree:last-child:before,mm-tree>:last-child:before{border-left:1px solid var(--grey_950, #2a2425)}mm-tree.custom-filter>mm-textfield{display:none}mm-tree[filter][multiple-filter]>i{pointer-events:none}mm-tree[filter][multiple-filter]>i.fa,mm-tree[filter][multiple-filter]>label{display:none}mm-tree[filter][multiple-filter]>mm-tree-item,mm-tree[filter][multiple-filter]>mm-tree{border-left:none;padding-left:0;margin-left:0}mm-tree[filter][multiple-filter]>mm-tree-item:before,mm-tree[filter][multiple-filter]>mm-tree:before{content:unset}mm-tree[filter] mm-tree-item:before{left:0}mm-tree[filter]:not([style^=display]){border-left:unset}mm-tree[filter]:not([style^=display]):before{border-left:1px solid var(--grey_950, #2a2425)}mm-tree[auto-complete][multiple-filter]{display:block;align-items:start}mm-tree[auto-complete][multiple-filter]>mm-tree,mm-tree[auto-complete][multiple-filter]>mm-tree-item{grid-column:2;-ms-grid-column:2}mm-tree[auto-complete][multiple-filter]>mm-textfield{margin-bottom:1rem}mm-tree[auto-complete][multiple-filter]>mm-textfield>.input-content{top:25px}mm-tree mm-checkbox{position:relative;top:13px}mm-tree mm-checkbox label{display:initial;line-height:40px;padding:0;position:initial;width:100%}mm-tree mm-checkbox input[type=checkbox]{display:none}mm-tree mm-checkbox input[type=checkbox].full+label:before{content:"\\f45c";display:inital;position:absolute;font-family:"fontawesome-solid";color:var(--primary_500, #3269b3);font-size:0.875rem;letter-spacing:10px}mm-tree i{margin-right:10px;cursor:pointer}mm-tree i.fa-minus-square,mm-tree i.fa-plus-square{color:var(--primary_500, #3269b3);display:block;float:left;height:24px;line-height:24px;position:relative;top:23px}mm-tree>label{position:relative;top:13px;font-size:14px}mm-tree>label>i:not(:first-child){display:none}mm-tree.show>mm-tree,mm-tree.show>mm-tree-item{display:block}mm-tree:not(.show)>mm-tree,mm-tree:not(.show)>mm-tree-item{display:none !important}mm-tree.selection mm-checkbox label{padding-left:20px}@media screen and (min-width: 992px){mm-tree[auto-complete][multiple-filter]{display:grid;display:-ms-grid;grid-template-columns:auto auto;-ms-grid-columns:auto auto}mm-tree[auto-complete][multiple-filter]>mm-textfield{margin-right:1rem;margin-bottom:0;width:200px;position:relative;grid-column:1;grid-row:1}mm-tree[auto-complete][multiple-filter]>mm-textfield>.input-content{top:25px}}';export{r as mm_tree}