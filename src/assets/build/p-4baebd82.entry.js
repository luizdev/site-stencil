import{r as e,h as t,H as n,g as i}from"./p-44118c4f.js";const c=class{constructor(t){e(this,t),this.eventClickOnBody=this.eventClickOnBody.bind(this)}render(){return t(n,{class:this.isOpen?"open":"close"},this.isOpen?this.renderClientOpened():this.renderClientClosed())}renderClientClosed(){return t("div",{class:"client-content",onClick:()=>this.open()},this.client&&[t("i",{class:"far fa-address-card"}),t("p",{class:"name"},this.client.nombre+" "+this.client.apellidos)],!this.client&&t("slot",{name:"header"}),t("i",{class:"fas fa-caret-right"}))}renderClientOpened(){return t("div",{class:"client-content opened"},this.client?[t("div",{class:"row-client-name"},t("i",{class:"far fa-address-card"}),t("p",{class:"name"},this.client.nombre+" "+this.client.apellidos)),t("div",{class:"row row-client-nif"},t("div",{class:"col-6"},t("small",{class:"grey"},"NIF"),t("a",{class:"nif",href:this.client.urlBuscadorReferencias},this.client.nif)),t("div",{class:"col-6"},t("small",{class:"grey"},"F. nacimiento"),t("p",null,this.formatDate(this.client.fechaNacimiento)))),t("div",{class:"row row-client-profile"},t("div",{class:"col-6"},t("small",{class:"grey"},"Perfil"),this.renderProfile()),t("div",{class:"col-6"},t("small",{class:"grey"},"Segmento"),this.renderSegment())),this.client.atributoCustom?t("div",{class:"row row-client-custom"},t("div",{class:"col-12"},t("small",{class:"grey"},this.client.atributoCustom.label),t("p",null,this.client.atributoCustom.value))):null,this.client.urlCRM?t("div",{class:"row row-client-card-link"},t("div",{class:"col-12"},t("a",{href:this.client.urlCRM}," ",">>"," A CRM Datos cliente"))):null]:t("slot",{name:"content"}))}formatDate(e){let t="";if(e){const n=new Date(e);let i=n.getDate().toString();i=1===i.length?"0"+i:i;let c=(n.getMonth()+1).toString();c=1===c.length?"0"+c:c,t=i+"/"+c+"/"+n.getFullYear()}return t}renderProfile(){if(this.client.perfil)switch(this.client.perfil.toLowerCase()){case"azul":return t("mm-indicator",null,"AZUL");case"oro":return t("mm-indicator",{class:"oro"},"ORO");case"platino":return t("mm-indicator",{class:"platino"},"PLATINO");case"blanco":return t("mm-indicator",{class:"transparent"},"BLANCO");case"hogar":return t("mm-indicator",{class:"transparent"},"HOGAR");default:return t("p",null,"-")}return t("p",null,"-")}renderSegment(){if(this.client.segmento)switch(this.client.segmento.toLowerCase()){case"a":return t("mm-indicator",null,"A");case"aa":return t("mm-indicator",{class:"segmentoa"},"AA");case"ab":return t("mm-indicator",{class:"segmentoa"},"AB");case"b":return t("mm-indicator",{class:"segmentob"},"B");case"ba":return t("mm-indicator",{class:"segmentob"},"BA");case"bb":return t("mm-indicator",{class:"segmentob"},"BB");case"c":return t("mm-indicator",{class:"segmentoc"},"C");case"cb":return t("mm-indicator",{class:"segmentoc"},"CB");case"cc":return t("mm-indicator",{class:"segmentoc"},"CC");case"cd":return t("mm-indicator",{class:"segmentoc"},"CD");case"d":return t("mm-indicator",{class:"segmentod"},"D");case"dd":return t("mm-indicator",{class:"segmentod"},"DD");case"np":return t("mm-indicator",null,"NP");default:return t("p",null,"-")}return t("p",null,"-")}addEventClickOnBody(){document.body.addEventListener("click",this.eventClickOnBody)}removeEventClickOnBody(){document.body.removeEventListener("click",this.eventClickOnBody)}eventClickOnBody(e){let t;(e.path||e.composedPath&&e.composedPath()||this.composedPath(e.target)).some((e=>{if("MM-CLIENT"===e.tagName)return t=e,!0})),t&&this.clientElement===t||this.close()}composedPath(e){const t=[];for(;e;){if(t.push(e),"HTML"===e.tagName)return t.push(document),t.push(window),t;e=e.parentElement}}async open(){this.isOpen=!0,this.addEventClickOnBody()}async close(){this.isOpen=!1,this.removeEventClickOnBody()}get clientElement(){return i(this)}};c.style=':root{--grey_050:#fcfcfa;--grey_100:#f9f9f9;--grey_200:#f2f2f2;--grey_300:#e9ecf0;--grey_400:#dfe1e2;--grey_500:#ccc;--grey_600:#a0aab5;--grey_700:#89858e;--grey_750:#73757b;--grey_800:#61616a;--grey_900:#55494c;--grey_950:#2a2425;--brand_accent_100:#f2fafd;--brand_accent_200:#e3f2fd;--brand_accent_300:#c1e3fc;--brand_accent_500:#00a4e3;--brand_accent_750:#0068a3;--brand_accent_800:#004a93;--primary_500:#3269b3;--primary_900:#283c57;--full_white:#fff;--full_black:#000;--action_300:#e56aa8;--action_500:#c9337d;--action_800:#750e70;--action_900:#440d7f;--status_critical_100:#fcded4;--status_critical_500:#d62c42;--status_critical_800:#660837;--status_warning_100:#fff2d6;--status_warning_500:#ffae33;--status_warning_800:#66380f;--status_success_100:#e6f8e0;--status_success_500:#42804a;--status_success_800:#0c3d25;--status_info_100:#e5fafe;--status_info_500:#7cc3f4;--status_info_800:#004a93;--client_platinium:#625951;--client_gold_500:#e0af31;--client_gold_800:#66380f;--client_basic:#3269b3;--client_hogar:#ffffff;--enviroment_dev:#f118a7;--enviroment_acp:#68d568;--enviroment_prf:#7cc3f4;--enviroment_uat:#ffd400;--segmentoa_500:#7aebb7;--segmentoa_800:#006060;--segmentob_500:#9ad7ff;--segmentob_800:#3a539b;--segmentoc_500:#e38b63;--segmentoc_800:#600000;--segmentod_500:#d999f2;--segmentod_800:#561b8d;--cca_500:#f2bf2e;--cca_800:#ff6e33}mm-client{display:block;position:relative;width:calc(100vw - (0.5rem * 2));max-width:calc(100vw - (0.5rem * 2));min-height:40px}mm-client [slot=content]{display:none}mm-client.open [slot=content]{display:block}mm-client.open [slot=header]{display:none}mm-client .client-content{width:100%;height:40px;background-color:var(--brand_accent_200, #e3f2fd);display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;cursor:pointer;}mm-client .client-content .name{font-size:12px;color:var(--primary_500, #3269b3);white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-left:11px;margin-bottom:0;margin-right:45px;font-family:"OpenSans-SemiBold", "OpenSans"}mm-client .client-content i.fa-address-card{color:var(--primary_500, #3269b3);font-size:24px;margin-left:14px}mm-client .client-content i.fa-caret-right{color:var(--primary_500, #3269b3);position:absolute;right:4px;bottom:-2px;transform:rotate(45deg);font-size:1.2rem}mm-client .client-content.opened{width:inherit;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;background-color:var(--full_white, #fff);height:auto;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;position:absolute;top:0;left:0;z-index:999;box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.15);border-left:1px solid var(--grey_300, #e9ecf0);border-right:1px solid var(--grey_300, #e9ecf0);border-bottom:1px solid var(--grey_300, #e9ecf0);cursor:inherit}mm-client .client-content.opened .row-client-nif,mm-client .client-content.opened .row-client-profile,mm-client .client-content.opened .row-client-card-link,mm-client .client-content.opened .row-client-name,mm-client .client-content.opened .row-client-custom{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start;position:relative;width:100%;margin-bottom:15px}mm-client .client-content.opened .row-client-name{margin-top:8px}mm-client .client-content.opened .row-client-name .name{font-size:12px;color:var(--primary_500, #3269b3);margin-left:11px;margin-bottom:0;margin-right:0;font-family:"OpenSans-SemiBold", "OpenSans";max-width:200px;white-space:inherit;text-overflow:inherit;overflow:hidden;line-height:18px;margin-top:3px}mm-client .client-content.opened .row-client-card-link{margin-bottom:20px}mm-client .client-content.opened .row-client-nif .nif{cursor:pointer}@media screen and (min-width: 992px){mm-client,mm-client .client-content.opened{min-width:281px;width:inherit;max-width:281px}mm-client .client-content.opened{min-height:281px}}';export{c as mm_client}