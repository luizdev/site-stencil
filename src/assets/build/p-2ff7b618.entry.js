import{r as e,c as n,h as t,g as a}from"./p-44118c4f.js";const i=class{constructor(t){e(this,t),this.requestSelected=n(this,"requestSelected",7),this.panelClicked=n(this,"panelClicked",7),this.selection=[],this.fixedWidth=!1,this.numPanels=4,this.updateSelection=!1,this.internalSelection=[],this.itemsClicked=[],this.clickContinue=this.clickContinue.bind(this)}handleSelection(){this.internalSelection=this.selection.map(((e,n)=>`${n+1}${e}`)),this.clickPanel(this.selection.length-1,this.selection[this.selection.length-1])}componentWillLoad(){this.checkParsePanels()}componentWillUpdate(){this.checkParsePanels(),this.updateSelection&&(this.updateSelection=!1)}render(){return t("div",{class:"panel-selection-container"},t("slot",null),t("div",{class:"panels-container"},this.renderPanels()))}checkParsePanels(){this.dataJson&&(this.dataPanels=this.parseDataPanels())}parseDataPanels(){const e={};return e.root=this.dataJson.map((n=>(this.getPanelChilds(n,e,1),{title:n.nombre,description:n.descripcion,id:n.id}))),e}getPanelChilds(e,n,t){const a=[];for(var i in e)"object"==typeof e[i]&&"tags"!==i&&e[i].map((e=>{a.push({title:e.nombre,description:e.descripcion,id:e.id,url:e.url}),this.getPanelChilds(e,n,t+1)}));a.length&&(n[t+e.id]=a)}renderPanels(){let e=[];const n=this.renderPanel(0,"root");e=[...e,n];for(let n=1;n<this.numPanels;n++){const t=this.renderPanel(n,this.internalSelection[n-1]);e=[...e,t]}return e}renderPanel(e,n){const a=["ambit","request","type","subtype"],i=this.dataPanels&&this.dataPanels[n]&&this.dataPanels[n].map((n=>t("div",{class:`info ${a[e]} ${n.id!=this.itemsClicked[e]?"":"selected"}`,onClick:()=>{this.scrollToPanels(),this.clickPanel(e,n.id)},"data-id":n.id},t("span",{class:"title"},n.title),3!==e&&n.description&&t("span",{class:"description"},n.description)))),s=this.renderButton(e);return t("div",{class:"panel "+(s?"hasButton":"")},t("div",{class:"panel-content"},i),s)}renderButton(e){return Boolean(e===this.internalSelection.length-1&&this.itemSelected)&&t("div",{class:"continue-button"},t("input",{value:"continuar",type:"button",class:"mm-button basic main",onClick:()=>this.clickContinue(e)}))}scrollToPanels(){window.scrollTo(0,this.panelSelectionElement.offsetTop-80)}clickPanel(e,n){const t=e+1,a=this.dataPanels[t+n];this.itemSelected=a?null:n,this.internalSelection.splice(e,this.internalSelection.length-e),this.internalSelection[e]=t+n,this.itemsClicked[e]=n,this.scrollItem(e,n),a&&1===a.length&&this.clickPanel(e+1,a[0].id),this.internalSelection=this.internalSelection.concat([]),this.updateSelection=!0,this.panelClicked.emit({panelId:this.internalSelection.length})}clickContinue(e){this.requestSelected.emit({id:this.itemSelected});const n=this.dataPanels[this.internalSelection[e-1]].find((e=>e.id===this.itemSelected));n.url&&window.open(n.url,"_blank")}scrollItem(e,n){const t=this.panelSelectionElement.querySelectorAll(".panel > .panel-content")[e],a=t.querySelector(`.info[data-id='${n}']`),i=t.getBoundingClientRect();a&&a.getBoundingClientRect().top-i.top>=i.height-100&&(t.scrollTop+=100)}get panelSelectionElement(){return a(this)}static get watchers(){return{selection:["handleSelection"]}}};i.style=':root{--grey_050:#fcfcfa;--grey_100:#f9f9f9;--grey_200:#f2f2f2;--grey_300:#e9ecf0;--grey_400:#dfe1e2;--grey_500:#ccc;--grey_600:#a0aab5;--grey_700:#89858e;--grey_750:#73757b;--grey_800:#61616a;--grey_900:#55494c;--grey_950:#2a2425;--brand_accent_100:#f2fafd;--brand_accent_200:#e3f2fd;--brand_accent_300:#c1e3fc;--brand_accent_500:#00a4e3;--brand_accent_750:#0068a3;--brand_accent_800:#004a93;--primary_500:#3269b3;--primary_900:#283c57;--full_white:#fff;--full_black:#000;--action_300:#e56aa8;--action_500:#c9337d;--action_800:#750e70;--action_900:#440d7f;--status_critical_100:#fcded4;--status_critical_500:#d62c42;--status_critical_800:#660837;--status_warning_100:#fff2d6;--status_warning_500:#ffae33;--status_warning_800:#66380f;--status_success_100:#e6f8e0;--status_success_500:#42804a;--status_success_800:#0c3d25;--status_info_100:#e5fafe;--status_info_500:#7cc3f4;--status_info_800:#004a93;--client_platinium:#625951;--client_gold_500:#e0af31;--client_gold_800:#66380f;--client_basic:#3269b3;--client_hogar:#ffffff;--enviroment_dev:#f118a7;--enviroment_acp:#68d568;--enviroment_prf:#7cc3f4;--enviroment_uat:#ffd400;--segmentoa_500:#7aebb7;--segmentoa_800:#006060;--segmentob_500:#9ad7ff;--segmentob_800:#3a539b;--segmentoc_500:#e38b63;--segmentoc_800:#600000;--segmentod_500:#d999f2;--segmentod_800:#561b8d;--cca_500:#f2bf2e;--cca_800:#ff6e33}mm-panel-selection{width:100%;min-width:1024px}mm-panel-selection mm-progress-indicator .step:not(:first-child):not(:last-child) .mmpi-content{left:-40%}mm-panel-selection .panels-container{display:-ms-grid;display:grid;-ms-grid-columns:23% 23% 23% 31%;grid-template-columns:repeat(3, 23%) 31%;margin:0 auto;padding:20px 0}mm-panel-selection .panels-container.flex{-ms-grid-columns:282px 282px 282px 350px;grid-template-columns:repeat(3, 282px) 350px}mm-panel-selection .panels-container .panel{box-shadow:0 0px 2px 1px rgba(0, 0, 0, 0.15);box-sizing:border-box;height:450px;position:relative;margin-right:20px}mm-panel-selection .panels-container .panel:nth-child(2){-ms-grid-column:2;grid-column:2}mm-panel-selection .panels-container .panel:nth-child(3){-ms-grid-column:3;grid-column:3}mm-panel-selection .panels-container .panel:nth-child(4){-ms-grid-column:4;grid-column:4}mm-panel-selection .panels-container .panel.hasButton .panel-content .info:last-child{margin-bottom:80px}mm-panel-selection .panels-container .panel.hasButton .panel-content .info.selected{background-color:var(--primary_500, #3269b3)}mm-panel-selection .panels-container .panel.hasButton .panel-content .info.selected .title{color:white}mm-panel-selection .panels-container .panel.hasButton .panel-content .info.selected .description{color:white;opacity:0.6}mm-panel-selection .panels-container .panel.hasButton .selected{background-color:var(--primary_500, #3269b3)}mm-panel-selection .panels-container .panel.hasButton .selected .title{color:var(--full_white, #fff)}mm-panel-selection .panels-container .panel:last-child{margin-right:0}mm-panel-selection .panels-container .panel .panel-content{height:100%;overflow-y:auto}mm-panel-selection .panels-container .panel .panel-content .info{padding:16px 29px 16px 16px}mm-panel-selection .panels-container .panel .panel-content .info .title{font-family:"OpenSans-SemiBold";color:var(--grey_800, #61616a);display:block;line-height:20px}mm-panel-selection .panels-container .panel .panel-content .info .description{font-family:"OpenSans";color:var(--grey_600, #a0aab5);display:block;font-size:12px;line-height:18px;padding-top:8px}mm-panel-selection .panels-container .panel .panel-content .info:hover,mm-panel-selection .panels-container .panel .panel-content .info.selected{background-color:var(--grey_200, #f2f2f2);cursor:pointer}mm-panel-selection .panels-container .panel .panel-content .info.request .title{font-size:14px}mm-panel-selection .panels-container .panel .panel-content .info.type .title{font-family:"OpenSans";font-size:14px}mm-panel-selection .panels-container .panel .panel-content .info.subtype .title{font-family:"OpenSans";font-size:14px;padding-bottom:0}mm-panel-selection .panels-container .panel .panel-content .info.subtype.selected{background-color:var(--primary_500, #3269b3)}mm-panel-selection .panels-container .panel .panel-content .info.subtype.selected .title{color:white}mm-panel-selection .panels-container .panel .continue-button{background:rgba(255, 255, 255, 0.5);bottom:0;height:60px;left:0;position:absolute;right:0}mm-panel-selection .panels-container .panel .continue-button .mm-button{bottom:10px;position:absolute;right:10px}';export{i as mm_panel_selection}