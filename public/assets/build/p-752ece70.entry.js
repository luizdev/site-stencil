import{r as e,c as t,h as r,g as i}from"./p-44118c4f.js";const a={isNif:/^(\d{8})([A-Z]?)$/,isCif:/^0?([ABCDEFGHJNPQRSUVW])(\d{7})([0-9A-J])$/,isNie:/^[XYZ]\d{7,8}[A-Z]$/,isPlate:/(\d{4}[a-z|A-Z]{3})|(\d{4}-[a-z|A-Z]{3})|([a-z|A-Z]{1,2}[0-9]{4}[a-z|A-Z]{2})|([a-z|A-Z]{1,2}-[0-9]{4}-[a-z|A-Z]{2})/,isMinorES:/^K\d{7}[A-Z]$/,noResidentES:/^L\d{7}[A-Z]$/,noResidentEX:/^M\d{7}[A-Z]$/},s=class{constructor(r){e(this,r),this.searchChange=t(this,"searchChange",7),this.escapeCharacters=[],this.DEFAULT_REGEX=a,this.PROPERTY_TPYE=[...Object.keys(this.DEFAULT_REGEX),"isDocument","isCustom","isPost"],this.eventClickOnBody=this.eventClickOnBody.bind(this),this.handlerArrowKey=this.handlerArrowKey.bind(this)}render(){return r("div",{class:"filter-search-container"},r("input",{type:"text",onFocus:()=>this.setShowResult(!0),onInput:e=>this.search(e),placeholder:this.placeholder,tabindex:0,value:this.searchText}),this.renderButtonAction(),this.template?this.renderResults():null)}renderButtonAction(){return this.searchText?this.getRemoveButton():this.getSearchButton()}renderResults(){return r("div",{class:"result-container"},this.template.map((e=>r("div",{class:"result-item"},r("div",{class:"search-title"},r("i",{class:e.nameIcon}),r("div",{class:"title-container"},r("span",{class:"title"},e.nameApp),e.currentApp?r("span",{class:"current-branch"},"(aplicación actual)"):"",e.description?r("span",{class:"description"},e.description):"")),r("div",{class:"col-options"},e.options.map(((e,t)=>this.renderOption(e,t))))))),this.renderEmptyHTML())}renderEmptyHTML(){return r("section",{class:"empty-state-result bg--grey_100 p-m mb-xs"},r("p",{class:"mm-semi-bold m-n text-align-c"},'No existen resultados para "',this.searchText,'"'),r("p",{class:"m-n text-align-c"},"Realiza una nueva búsqueda para visualizar los datos deseados."))}getType(e){return this.PROPERTY_TPYE.filter((t=>e[t]))[0]}renderOption(e,t){const i=Object.keys(e).filter((e=>e===this.getSearchMatch()))[0];return"isCustom"===this.getType(e)&&e.regex&&e.regex.test(this.searchText)||this.getType(e)&&i||"isDocument"===this.getType(e)&&this.PROPERTY_TPYE.indexOf(this.getSearchMatch())>-1&&this.PROPERTY_TPYE.indexOf(this.getSearchMatch())<3||!this.getType(e)&&!i&&!this.getSearchMatch()?r("a",{onClick:()=>this.redirect(e,e.key),tabindex:0,"data-option-index":t},"Buscar ",r("span",{class:"option-text-search"},this.searchText)," como"," ",r("span",{class:"option-referece-type"},e.value)):""}getRemoveButton(){return r("span",{class:"btn-remove"},r("i",{class:"fas fa-times-circle",onClick:()=>this.removeSearch()}))}getSearchButton(){return r("span",{class:"btn-search"},r("i",{class:"fas fa-search"}))}removeSearch(){this.searchText=null,this.setShowResult(!1),this.filterSearchElement.querySelector("input").focus()}search(e){let t=e.target.value.toUpperCase();t=this.clearCharacters(t),this.searchText=t,this.filterSearchElement.querySelector("input").value=this.searchText,this.setShowResult(!0),this.clickOnFirstResult()}clearCharacters(e){return this.escapeCharacters&&this.escapeCharacters.length&&this.escapeCharacters.forEach((t=>{e=e.split(t).join("")})),e}clickOnFirstResult(){this.filterSearchElement.addEventListener("keydown",(e=>{const t=Array.from(this.filterSearchElement.querySelectorAll("[tabindex]")),r=t[0]===document.activeElement;"Enter"===e.key&&r&&this.searchText&&t[1]&&t[1].focus()}))}setShowResult(e){this.showResults=Boolean(e&&this.searchText),this.toggleShowResult(),this.filterSearchElement.removeEventListener("keydown",this.handlerArrowKey),this.showResults&&this.filterSearchElement.addEventListener("keydown",this.handlerArrowKey)}toggleShowResult(){const e=this.filterSearchElement.querySelector(".result-container");this.showResults?(document.body.addEventListener("click",this.eventClickOnBody),e&&e.classList.add("show")):(document.body.removeEventListener("click",this.eventClickOnBody),e&&e.classList.remove("show"))}getSearchMatch(){for(const e of this.template)for(const t of e.options)if(t.regex&&t.regex.test(this.searchText)&&!t.isCustom)return this.getType(t);for(const[e,t]of Object.entries(this.DEFAULT_REGEX))if(t.test(this.searchText))return e}componentDidUpdate(){this.toggleEmptyElement()}toggleEmptyElement(){const e=this.filterSearchElement.querySelectorAll(".result-item"),t=this.filterSearchElement.querySelector(".empty-state-result");let r;Array.from(e).forEach((e=>{e.classList.remove("hidden");const t=e.querySelector(".col-options");t&&!t.childElementCount&&e.classList.add("hidden")})),r=Array.from(e).every((e=>e.classList.contains("hidden"))),null==t||t.classList.toggle("display-n",!r)}createFormForLink(e,t){const r=t.reduce(((e,t)=>{const r=document.createElement("input");return r.name=t.name,r.value="sensitiveData"===t.name?this.searchText:t.value,e.appendChild(r),e}),document.createElement("form"));document.body.appendChild(r),r.target="_self",r.method="post",r.action=e.replace("{searchText}",""),r.submit(),r.remove()}redirect(e,t){e.isPost&&this.createFormForLink(e.link,e.isPost),e.link&&!e.isPost&&(window.location.href=e.link.replace("{searchText}",this.searchText)),this.searchChange.emit({key:t,searchText:this.searchText})}eventClickOnBody(e){let t;(e.path||e.composedPath&&e.composedPath()||this.composedPath(e.target)).some((e=>{if("MM-FILTER-SEARCH"===e.tagName)return t=e,!0})),t&&this.filterSearchElement===t||this.setShowResult(!1)}composedPath(e){const t=[];for(;e;){if(t.push(e),"HTML"===e.tagName)return t.push(document),t.push(window),t;e=e.parentElement}}handlerArrowKey(e){if(40===e.keyCode||38===e.keyCode||13===e.keyCode){e.stopPropagation(),e.preventDefault();const t=Array.from(this.filterSearchElement.querySelectorAll("[tabindex]")),r=t.findIndex((e=>e===document.activeElement));r>-1&&40===e.keyCode&&t[r+1]?t[r+1].focus():r>-1&&38===e.keyCode&&t[r-1]?t[r-1].focus():r>-1&&13===e.keyCode&&t[r].click()}}get filterSearchElement(){return i(this)}};s.style=':root{--grey_050:#fcfcfa;--grey_100:#f9f9f9;--grey_200:#f2f2f2;--grey_300:#e9ecf0;--grey_400:#dfe1e2;--grey_500:#ccc;--grey_600:#a0aab5;--grey_700:#89858e;--grey_750:#73757b;--grey_800:#61616a;--grey_900:#55494c;--grey_950:#2a2425;--brand_accent_100:#f2fafd;--brand_accent_200:#e3f2fd;--brand_accent_300:#c1e3fc;--brand_accent_500:#00a4e3;--brand_accent_750:#0068a3;--brand_accent_800:#004a93;--primary_500:#3269b3;--primary_900:#283c57;--full_white:#fff;--full_black:#000;--action_300:#e56aa8;--action_500:#c9337d;--action_800:#750e70;--action_900:#440d7f;--status_critical_100:#fcded4;--status_critical_500:#d62c42;--status_critical_800:#660837;--status_warning_100:#fff2d6;--status_warning_500:#ffae33;--status_warning_800:#66380f;--status_success_100:#e6f8e0;--status_success_500:#42804a;--status_success_800:#0c3d25;--status_info_100:#e5fafe;--status_info_500:#7cc3f4;--status_info_800:#004a93;--client_platinium:#625951;--client_gold_500:#e0af31;--client_gold_800:#66380f;--client_basic:#3269b3;--client_hogar:#ffffff;--enviroment_dev:#f118a7;--enviroment_acp:#68d568;--enviroment_prf:#7cc3f4;--enviroment_uat:#ffd400;--segmentoa_500:#7aebb7;--segmentoa_800:#006060;--segmentob_500:#9ad7ff;--segmentob_800:#3a539b;--segmentoc_500:#e38b63;--segmentoc_800:#600000;--segmentod_500:#d999f2;--segmentod_800:#561b8d;--cca_500:#f2bf2e;--cca_800:#ff6e33}mm-filter-search{display:block;position:relative}mm-filter-search.border-none .filter-search-container input{border:none}mm-filter-search .filter-search-container{position:relative;border:1px solid #ddd;border-radius:6px}mm-filter-search .filter-search-container input{border-radius:6px;background-color:#fdfdfd;border:unset;box-sizing:border-box;color:var(--primary_500, #3269b3);font-family:OpenSans;font-size:1rem;font-style:italic;height:40px;line-height:20px;outline:none;padding:10px 2rem 10px 0.5rem;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}mm-filter-search .filter-search-container input:focus{background-color:#fcfcfc}mm-filter-search .filter-search-container input.placeholder{font-family:"OpenSans-light";color:var(--grey_750, #73757b);opacity:1}mm-filter-search .filter-search-container input:-moz-placeholder{font-family:"OpenSans-light";color:var(--grey_750, #73757b);opacity:1}mm-filter-search .filter-search-container input::-moz-placeholder{font-family:"OpenSans-light";color:var(--grey_750, #73757b);opacity:1}mm-filter-search .filter-search-container input:-ms-input-placeholder{font-family:"OpenSans-light";color:var(--grey_750, #73757b);opacity:1}mm-filter-search .filter-search-container input::-webkit-input-placeholder{font-family:"OpenSans-light";color:var(--grey_750, #73757b);opacity:1}mm-filter-search .filter-search-container .btn-search,mm-filter-search .filter-search-container .btn-remove{position:absolute;top:0;bottom:0;right:0.5rem;display:flex;align-items:center}mm-filter-search .filter-search-container .btn-search i,mm-filter-search .filter-search-container .btn-remove i{cursor:pointer;font-size:1rem}mm-filter-search .filter-search-container .btn-search i{color:var(--grey_500, #ccc)}mm-filter-search .filter-search-container .btn-search i:hover{color:var(--grey_750, #73757b)}mm-filter-search .filter-search-container .btn-remove i{color:var(--grey_750, #73757b)}mm-filter-search .filter-search-container .result-container{visibility:hidden;box-sizing:border-box;padding:0.625rem 0.5rem;width:100%;position:absolute;left:0;right:0;z-index:999;border:1px solid var(--grey_300, #e9ecf0);border-radius:8px;background-color:var(--full_white, #fff);box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.15);max-height:357px;overflow:auto;}mm-filter-search .filter-search-container .result-container::-webkit-scrollbar{width:13px}mm-filter-search .filter-search-container .result-container::-webkit-scrollbar-track{box-shadow:inset 0 0 13px 13px var(--grey_200, #f2f2f2);border:solid 4px transparent}mm-filter-search .filter-search-container .result-container::-webkit-scrollbar-track:horizontal{border-top:solid 6px transparent;border-bottom:solid 3px transparent}mm-filter-search .filter-search-container .result-container::-webkit-scrollbar-thumb{box-shadow:inset 0 0 13px 13px var(--grey_800, #61616a);border:solid 4px transparent;border-radius:13px}mm-filter-search .filter-search-container .result-container::-webkit-scrollbar-thumb:horizontal{border-top:solid 6px transparent;border-bottom:solid 3px transparent}mm-filter-search .filter-search-container .result-container::-webkit-scrollbar-button{display:none}mm-filter-search .filter-search-container .result-container.show{visibility:visible}mm-filter-search .filter-search-container .result-item{width:100%;display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;flex-wrap:wrap;border-top:2px solid var(--grey_300, #e9ecf0);padding:15px 0}mm-filter-search .filter-search-container .result-item:first-child{border-top:none;padding-top:0}mm-filter-search .filter-search-container .result-item.hidden{display:none}mm-filter-search .filter-search-container .search-title{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;margin-bottom:1rem}mm-filter-search .filter-search-container .search-title .title-container{display:none}mm-filter-search .filter-search-container .search-title i{margin-right:0.625rem;margin-top:0.25rem}mm-filter-search .filter-search-container .search-title i:before{font-size:36px;color:var(--grey_500, #ccc)}mm-filter-search .filter-search-container .search-title .title{color:var(--grey_800, #61616a);font-size:16px;line-height:28px}mm-filter-search .filter-search-container .search-title .current-branch{color:var(--grey_600, #a0aab5);font-size:12px;line-height:18px}mm-filter-search .filter-search-container .search-title .description{color:var(--grey_600, #a0aab5);font-size:12px;line-height:18px}mm-filter-search .filter-search-container .col-options{width:70%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;cursor:pointer;margin-top:-5px}mm-filter-search .filter-search-container .col-options a{text-decoration:none;color:var(--grey_800, #61616a);padding:12px 12px;font-size:12px;width:100%;box-sizing:border-box;outline:none}mm-filter-search .filter-search-container .col-options a:hover{background-color:var(--grey_100, #f9f9f9)}mm-filter-search .filter-search-container .col-options a:focus{background-color:var(--primary_500, #3269b3);color:var(--full_white, #fff)}mm-filter-search .filter-search-container .col-options a:focus .option-text-search{color:var(--full_white, #fff)}mm-filter-search .filter-search-container .col-options .option-text-search{font-weight:bold;color:var(--primary_500, #3269b3)}mm-filter-search .filter-search-container .col-options .option-referece-type{font-weight:bold}mm-filter-search .col-ambito{width:30%;display:flex;flex-direction:column;justify-content:flex-start;margin-left:15px}mm-filter-search .col-ambito .title{color:var(--grey_800, #61616a);font-size:16px;font-weight:600;line-height:28px;margin:0;border:none;padding:0}mm-filter-search .col-ambito .description{color:var(--grey_600, #a0aab5);font-size:12px}mm-filter-search .col-tipos{width:70%;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;cursor:pointer;padding-left:35px}mm-filter-search .col-tipos .solicitud{width:100%;margin-bottom:20px}mm-filter-search .col-tipos .solicitud .title{color:var(--grey_800, #61616a);font-size:12px;font-weight:600;line-height:28px;margin-bottom:10px;border:none;padding-left:10px;border-bottom:1px solid var(--full_black, #000);text-transform:uppercase}mm-filter-search .col-tipos .solicitud .description{color:var(--grey_600, #a0aab5);font-size:12px}mm-filter-search .col-tipos .solicitud .requests-list{list-style:none;margin:0;padding:0}mm-filter-search .col-tipos .solicitud .requests-list .subrequest{padding-top:12px}mm-filter-search .col-tipos .solicitud .requests-list .subrequest .request-title{color:var(--grey_600, #a0aab5);font-size:12px;border:none;padding:5px 0}mm-filter-search .col-tipos .solicitud .requests-list .subrequest .subrequest-description{color:var(--grey_800, #61616a);font-size:14px}@media screen and (min-width: 992px){mm-filter-search{width:100%}mm-filter-search .filter-search-container input{height:60px;padding:0 74px 0 24px;line-height:27px;font-size:20px}mm-filter-search .filter-search-container .btn-search,mm-filter-search .filter-search-container .btn-remove{right:20px}mm-filter-search .filter-search-container .btn-search i,mm-filter-search .filter-search-container .btn-remove i{font-size:1.5rem}mm-filter-search .filter-search-container .result-container{padding:15px 15px 0 15px}mm-filter-search .filter-search-container .col-options a{font-size:14px}mm-filter-search .filter-search-container .search-title{width:30%;margin-left:20px}mm-filter-search .filter-search-container .search-title i{margin-right:13px;margin-top:0}mm-filter-search .filter-search-container .search-title i:before{font-size:30px}mm-filter-search .filter-search-container .search-title .title-container{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}}.form-style{min-width:200px;width:100%}.form-style .filter-search-container{border:none;border-radius:none}.form-style .filter-search-container input{color:var(--grey_800, #61616a);font-size:0.875rem;height:40px;padding:0 40px 0 12px;border-radius:0px;border:1px solid var(--grey_300, #e9ecf0);border-bottom:1px solid var(--grey_700, #89858e);background-color:var(--full_white, #fff)}.form-style .filter-search-container input.placeholder{font-family:"OpenSans";font-style:normal;color:var(--grey_600, #a0aab5);opacity:1}.form-style .filter-search-container input:-moz-placeholder{font-family:"OpenSans";font-style:normal;color:var(--grey_600, #a0aab5);opacity:1}.form-style .filter-search-container input::-moz-placeholder{font-family:"OpenSans";font-style:normal;color:var(--grey_600, #a0aab5);opacity:1}.form-style .filter-search-container input:-ms-input-placeholder{font-family:"OpenSans";font-style:normal;color:var(--grey_600, #a0aab5);opacity:1}.form-style .filter-search-container input::-webkit-input-placeholder{font-family:"OpenSans";font-style:normal;color:var(--grey_600, #a0aab5);opacity:1}.form-style .filter-search-container input:hover{border-bottom:2px solid var(--grey_500, #ccc);padding-top:1px}.form-style .filter-search-container input:focus{border-bottom:2px solid var(--primary_500, #3269b3);outline:none;padding-top:1px}.form-style .filter-search-container .btn-search,.form-style .filter-search-container .btn-remove{right:15px}.form-style .filter-search-container .btn-search i,.form-style .filter-search-container .btn-remove i{font-size:0.875rem;color:var(--grey_600, #a0aab5)}';export{s as mm_filter_search}